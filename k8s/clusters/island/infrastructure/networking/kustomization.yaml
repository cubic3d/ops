apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: networking
resources:
  - ../../../../apps/metallb/simple-pool
  - ../../../../apps/cert-manager/le-configs
  - ../../../../apps/traefik
  - ../../../../apps/external-dns
patchesStrategicMerge:
  - |-
    apiVersion: metallb.io/v1beta1
    kind: IPAddressPool
    metadata:
      name: default
    spec:
      addresses:
        - "${public_ip}/32"
